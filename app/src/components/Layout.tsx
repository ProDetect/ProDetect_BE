import { Shield, ChartBar, TriangleAlert, FileText, Settings, Search, Users, LogOut, Menu, MapPinX } from "lucide-react";
import { ReactNode } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuthContext } from '@/auth/AuthProvider';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\n\nimport { useState } from 'react';\n\ninterface LayoutProps {\n  children: ReactNode;\n}\n\nconst navigation = [\n  { name: 'Dashboard', href: '/dashboard', icon: BarChart3 },\n  { name: 'Transaction Monitoring', href: '/transactions', icon: AlertTriangle },\n  { name: 'Case Management', href: '/cases', icon: FileText },\n  { name: 'Reports', href: '/reports', icon: FileText },\n  { name: 'Rules Engine', href: '/rules', icon: Settings },\n  { name: 'Customers', href: '/customers', icon: Users },\n  { name: 'Audit Logs', href: '/audit', icon: Search },\n];\n\nexport default function Layout({ children }: LayoutProps) {\n  const location = useLocation();\n  const { userDetails, logout } = useAuthContext();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Mobile sidebar overlay */}\n      {sidebarOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\" onClick={() => setSidebarOpen(false)} />\n      )}\n\n      {/* Sidebar */}\n      <div className={`\n        fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0\n        ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'}\n      `}>\n        <div className=\"flex flex-col h-full\">\n          {/* Logo */}\n          <div className=\"flex items-center justify-between h-16 px-6 border-b border-slate-800\">\n            <div className=\"flex items-center space-x-3\">\n              <Shield className=\"h-8 w-8 text-blue-400\" />\n              <span className=\"text-xl font-bold text-white\">ProDetect</span>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"lg:hidden text-slate-400 hover:text-white\"\n              onClick={() => setSidebarOpen(false)}\n            >\n              <X className=\"h-5 w-5\" />\n            </Button>\n          </div>\n\n          {/* Navigation */}\n          <nav className=\"flex-1 px-4 py-6 space-y-2\">\n            {navigation.map((item) => {\n              const isActive = location.pathname === item.href;\n              return (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`\n                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors\n                    ${isActive \n                      ? 'bg-blue-600 text-white' \n                      : 'text-slate-300 hover:text-white hover:bg-slate-800'\n                    }\n                  `}\n                  onClick={() => setSidebarOpen(false)}\n                >\n                  <item.icon className=\"h-5 w-5\" />\n                  <span>{item.name}</span>\n                </Link>\n              );\n            })}\n          </nav>\n\n          {/* User section */}\n          <div className=\"p-4 border-t border-slate-800\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm font-medium text-white\">\n                    {userDetails?.email?.[0]?.toUpperCase() || 'U'}\n                  </span>\n                </div>\n                <div className=\"min-w-0\">\n                  <p className=\"text-sm font-medium text-white truncate\">\n                    {userDetails?.email || 'User'}\n                  </p>\n                  <Badge variant=\"outline\" className=\"text-xs text-slate-400 border-slate-600\">\n                    Compliance Officer\n                  </Badge>\n                </div>\n              </div>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={logout}\n                className=\"text-slate-400 hover:text-white\"\n              >\n                <LogOut className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"flex-1 flex flex-col min-w-0\">\n        {/* Top bar */}\n        <header className=\"bg-white shadow-sm border-b border-gray-200 h-16 flex items-center justify-between px-6\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"lg:hidden\"\n              onClick={() => setSidebarOpen(true)}\n            >\n              <Menu className=\"h-5 w-5\" />\n            </Button>\n            <h1 className=\"text-xl font-semibold text-gray-900\">\n              {navigation.find(item => item.href === location.pathname)?.name || 'ProDetect AML'}\n            </h1>\n          </div>\n          \n          <div className=\"flex items-center space-x-4\">\n            <Badge variant=\"outline\" className=\"hidden sm:inline-flex\">\n              CBN Compliant\n            </Badge>\n            <Badge variant=\"destructive\" className=\"hidden sm:inline-flex\">\n              3 Alerts\n            </Badge>\n          </div>\n        </header>\n\n        {/* Page content */}\n        <main className=\"flex-1 overflow-y-auto p-6\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}